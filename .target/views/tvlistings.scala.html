
<!DOCTYPE html>

<html>
<head>
<title></title>
<link rel="stylesheet" media="screen" href="@routes.Assets.at("stylesheets/main.css")">
<link rel="stylesheet" media="screen" href="@routes.Assets.at("stylesheets/bootstrap.css")">
<link rel="shortcut icon" type="image/png" href="@routes.Assets.at("images/favicon.png")">

<script src="@routes.Assets.at("javascripts/jquery-1.9.0.min.js")" type="text/javascript"></script>
<script src="@routes.Assets.at("javascripts/jquery.bottom-1.0.js")" type="text/javascript"></script>
<script src="@routes.Assets.at("javascripts/jQuery.ajaxQueue.js")" type="text/javascript"></script>
<script src="@routes.Assets.at("javascripts/jquery.marquee.min.js")" type="text/javascript"></script>

<script src="@routes.Assets.at("javascripts/bootstrap.min.js")" type="text/javascript"></script>
<script src="@routes.Assets.at("javascripts/main.js")" type="text/javascript"></script>
<script src="@routes.Assets.at("javascripts/tvlistings.js")" type="text/javascript"></script>
<script src="@routes.Assets.at("javascripts/timetable.js")" type="text/javascript"></script>

<script>
nowTime = new Date()
prependTime = new Date()
appendTime = new Date()
$(function() {
	nowTime = new Date(2013, 8, 28, 10, 0, 0);
	prependTime = new Date(2013, 8, 28, 10, 0, 0);
	appendTime = new Date(2013, 8, 28, 10, 0, 0);
	prependTime = new Date(prependTime.getTime() - (1000 * 60 * 60 * 4))
	appendTime = new Date(appendTime.getTime() + (1000 * 60 * 60 * 4))

	createTimeTable( nowTime.getTime(), "#tvlistingTime")
	prependTimeTable("#tvlistingTime")
	appendTimeTable("#tvlistingTime")
	scrollBy( 0, 960);
	
	json27 = new Json( "#tvlistingGR27", "27", 240, 240 * 4);
	json26 = new Json( "#tvlistingGR26", "26", 240, 240 * 4);
	json25 = new Json( "#tvlistingGR25", "25", 240, 240 * 4);
	json24 = new Json( "#tvlistingGR24", "24", 240, 240 * 4);
	json23 = new Json( "#tvlistingGR23", "23", 240, 240 * 4);
	json22 = new Json( "#tvlistingGR22", "22", 240, 240 * 4);
	json21 = new Json( "#tvlistingGR21", "21", 240, 240 * 4);
	json20 = new Json( "#tvlistingGR20", "20", 240, 240 * 4);

	prevTime = new Date(nowTime.getTime() - (1000 * 60 * 60 * 4))
	nextTime = new Date(nowTime.getTime() + (1000 * 60 * 60 * 4))

	json27.createListingTable(nowTime)
	json27.prependTr(prependTime)
	json27.appendTr(nextTime)

	json26.createListingTable(nowTime)
	json26.prependTr(prependTime)
	json26.appendTr(nextTime)

	json25.createListingTable(nowTime)
	json25.prependTr(prependTime)
	json25.appendTr(nextTime)

	json24.createListingTable(nowTime)
	json24.prependTr(prependTime)
	json24.appendTr(nextTime)

	json23.createListingTable(nowTime)
	json23.prependTr(prependTime)
	json23.appendTr(nextTime)

	json22.createListingTable(nowTime)
	json22.prependTr(prependTime)
	json22.appendTr(nextTime)

	json21.createListingTable(nowTime)
	json21.prependTr(prependTime)
	json21.appendTr(nextTime)

	json20.createListingTable(nowTime)
	json20.prependTr(prependTime)
	json20.appendTr(nextTime)

	$(window).bind("scroll", function() {
		scrollHeight = $(document).height();
		scrollPosition = $(window).height() + $(window).scrollTop();
		if (!json20.getLoading() 
			&& !json21.getLoading() 
			&& !json22.getLoading() 
			&& !json23.getLoading() 
			&& !json24.getLoading() 
			&& !json25.getLoading() 
			&& !json26.getLoading() 
			&& !json27.getLoading() 
			&& (scrollHeight - scrollPosition) / scrollHeight <= 0.4
			) {

			appendTime = new Date(appendTime.getTime() + (1000 * 60 * 60 * 4))
			appendTimeTable("#tvlistingTime")
			json27.appendTr( appendTime)
			json26.appendTr( appendTime)
			json25.appendTr( appendTime)
			json24.appendTr( appendTime)
			json23.appendTr( appendTime)
			json22.appendTr( appendTime)
			json21.appendTr( appendTime)
			json20.appendTr( appendTime)
		}
		if (!json20.getLoading() 
				&& !json21.getLoading() 
				&& !json22.getLoading() 
				&& !json23.getLoading() 
				&& !json24.getLoading() 
				&& !json25.getLoading() 
				&& !json26.getLoading() 
				&& !json27.getLoading() 
				&& (scrollHeight - scrollPosition) / scrollHeight >= 0.6
				) {
			prependTime = new Date(prependTime.getTime() - (1000 * 60 * 60 * 4))
			prependTimeTable( "#tvlistingTime")
			json27.prependTr( prependTime)
			json26.prependTr( prependTime)
			json25.prependTr( prependTime)
			json24.prependTr( prependTime)
			json23.prependTr( prependTime)
			json22.prependTr( prependTime)
			json21.prependTr( prependTime)
			json20.prependTr( prependTime)
			scrollBy( 0, 960)
		}
		else {
		}
	});
});
</script>
		
</head>
<body>
	<div class="navbar navbar-inverse navbar-fixed-top">
		<div class="navbar-inner">
			<div class="container">
				<div class="nav-collapse collapse">
					<ul class="nav">
						<li class="active" style="font-size:small;">
							<a href="#">地上</a>
						</li>
						<li class="active" style="font-size:small;">
							<a href="#">BS</a>
						</li>
						<li class="active" style="font-size:small;">
							<a href="#">CS</a>
						</li>
						<li class="active" style="font-size:small;">
							<a href="#">My Listings</a>
						</li>
						<li class="active" style="font-size:small;">
							<a href="#">予約一覧</a>
						</li>
						<li class="active" style="font-size:small;">
							<a href="#">設定</a>
						</li>
						<li class="active" style="font-size:small;">
							<a href="#">
								<div id="infoTime">
								</div>
							</a>
						</li>
						<li class="active" style="font-size:small;">
							<a href="#">
								<div class='marquee'></div>
 							</a>
						</li>
					</ul>
				</div>
			</div>
		</div>

	</div>
	<table id="tvlistingTime" class="table table-bordered table-condensed">
	</table>
	<table id="tvlistingGR27" class="table table-bordered table-condensed">
	</table>
	<table id="tvlistingGR26" class="table table-bordered table-condensed">
	</table>

	<table id="tvlistingGR25" class="table table-bordered table-condensed">
	</table>

	<table id="tvlistingGR24" class="table table-bordered table-condensed">
	</table>

	<table id="tvlistingGR23" class="table table-bordered table-condensed">
	</table>

	<table id="tvlistingGR22" class="table table-bordered table-condensed">
	</table>

	<table id="tvlistingGR21" class="table table-bordered table-condensed">
	</table>

	<table id="tvlistingGR20" class="table table-bordered table-condensed">
	</table>

	<table id="tvlistingGR18" class="table table-bordered table-condensed">
	</table>
</body>
</html>


